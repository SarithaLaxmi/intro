-> Solace CLI : 

a. Putty 
b. Port 22 :: SSH


--> Task :: Create a queue :: Use the assigned storage :: Developer service class : 10GB :: message-spool 

message-spool ----> Message-VPN

0. Create a queue --> Global config mode in the CLI 
enable
configure

1. Start creating a queue : Initialize the message-spool message-vpn <name of the message-vpn>

Mode : (configure/message-spool)#

2. Create a queue 

create queue <queue name> 

create queue queuecli02

(configure/message-spool/queue)#

3. Specify the message queue size

max-spool-usage <value in MB> 

max-spool-usage 60

4. Specify the owner permission :: default 

4.a Specify the non-owner permission :: 

permission all consume

5. Ensure that the object created [Queue object] is never OFF :: ON :: NO SHUT

6. See the queue details :: show queue <queue name> 
7. Detail config of the queue :: show queue <queue name> detail 

Every object that is created in Solace, would have an ID associated with it. This ID is unique for every resource/object that is created.

Every human being in India :: Unique Aadhar number
Every object in Solace/Resource :: Unique resource ID/object ID :: System generated ID, not part of config 

Queue ID :: ID count starts from 0 [auto assigned by Solace env] 

8. Subscribe to a topic 

subscription topic <topic name>

subscription topic hello-wed01


Allowing Random data/msg data :: Dirty data [data poisoning/data injection/etc] :: vohjvsld  doiunsd,mc sd,noifdvjlcv sd,cnhsdo

Publisher --> Events --> Messages [text/binary] --> Solace [EBS] --> Sub Services



==> How does Solace communicate across the different objects ? 

Queues --> Topics --> messages [Pub& Sub] 

1. Amazon.com --> https://www.amazon.com --> Port: 443 + Using Https protocol + TCP + Request-Response model

2. Cross a busy road --> Left + Right :: Protocol

3. How does Solace communicate across the different objects ? 

Queues --> Topics --> messages [Pub& Sub] 


- Which protocol Solace has to follow? :: Solace --> messaging activities : SMF :: Solace message format
- Protocol - Service -- Port number :: SMF works : 

https://docs.solace.com/Admin/Default-Port-Numbers.htm

55555	Solace Message Format (SMF)	
55003	SMF compressed	
55556	SMF routing	
55443	SMF TLS / SSL (with or without compression)

In a network, data communication can happen in 2 ways :

- In a compressed format : Network lag is reduced + Speed is better
vs
- In a uncompressed format

55556	SMF routing : Multiple message-VPN's are to connected

	

Solace supports:

a. Multiple languages : Python/Java/NodeJs/C#/etc
b. Multiple protocols : 2 types :

- Solace specific protocol -  SMF :: Solace message format
- 3rd party protocols - AMQP [Active message queue protocol] / MQTT / REST API

Solace developer account : Secured SMF Host
Enabled
Port : 55443

Virtual ports : 0-65535

0-1200 : System protocols 
1201-1300 : research purpose
1301 - 65535 : Custom apps/protocols

1. What is an event, as in Solace? 

https://docs.solace.com/Get-Started/understanding-events-messaging.htm

https://solace.com/blog/inside-solace-message-introduction/

Events : 

a. Can be anything in which there is a change of state of data
b. Events can be generated by manual intervention OR dynamically

Manual : 

- click a button
- click on tab

Dynamic : 

- messages would try to communicate among each other : EDA :: Pub-Sub

c. What are these change of data state : Whenever we deal with data-driven app [eg : Banking/Amazon/Gaming//Zomato/etc] : What are the different states :

CRUD

C : Create : Create a new record in the data store
R : Read : List of data 
U : Update : Modify/alter the existing data : 10/08 --> 12/08
D : Delete : Remove the record

Zomato <new order> -------> <res or customer support or delivery> 

Zomato <new order> ===> <Topic [NewOrderTopic-Date] = <message> : New-Order-date-resname-<items+ quan>-zipcode> </message> <=== subscribe (restaurant serv/customer serv/delivery serv) to the topic : [NewOrderTopic-Date]] 


Zomato <modify order> ===> <Topic [ModifyOrderTopic-Date] = <message> : Modify-Order-date-resname-<items+ quan>-zipcode> </message> <=== subscribe (restaurant serv/customer serv/delivery serv) to the topic : [NewOrderTopic-Date]] 


Zomato <delete order> ===> <Topic [DeleteOrderTopic-Date] = <message> : Delete-Order-date-resname-<items+ quan>-zipcode> </message> <=== subscribe (restaurant serv/customer serv/delivery serv) to the topic : [NewOrderTopic-Date]] 

Different services ==> Create different events [CRUD] ==> Send the messages :: <Topic Subscriptions> ==> <Queues [messagesID's + meta data + Topic subs]>  <=== subscriber [subscribed to the topic]

Event is a logical step
Data --> messages --> topics --> queues :: <===Subs


What is the structure of the message? 

Laptop 1----------------> Laptop2 : LAN 

Laptop 1----------------> Web : WAN

TCP Packets ==> Each of the packets would have a structure associated


What is the structure of the message? 

EBS :: Event Streaming :: Read about "Event Streaming" || How event streaming works in EDA

https://solace.com/blog/inside-solace-message-introduction/

Solace Message structure :

a. Header : Source/Delivery address/Delivery mode/return address/Port --> Meta data 

b. Body : Which holds the data + Actual data --> Application data --> Payload


==> Message exchange pattern : How the messages can move from Pub-<EBS or Queue - Topics>-Sub

a. P2P
b. Request-Reply
c. Pub-Sub

==> What are the delivery modes in Solace Messaging

https://docs.solace.com/Get-Started/message-delivery-modes.htm

2 types of delivery modes :

a. Direct Messaging :

- At times there can be the data loss
- If the client is OFFLINE, EBS will not hold the data
- Pub --> Sub service can communicate directly


b. Guaranteed Messaging : Is called as Persistent messaging :: messages are stored in the EBS || High Availability of the data || Even if the client isn't online, the message will persist, untill the client consumes the messages

Guaranteed messaging :: Topic subscriptions are associated with an endpoint on the "broker" rather than consuming clients

Template : Ready solution or DIY :: Buckets [config params] --> data that we can work with it --> Re-usable

Queue :: 

Created a queue :: We assigned some configurations to that queue

Queues :: Solace env --> Dynamically created --> What will be the config :: if the config is to be available :: manual approach ----------------> templatized approach

Template :: Create ONCE, Reuse Again, again, again

Solace --> Creating and using Templates :: Queue templates

Generic Templates :: Can be used by the Pub Services OR Sub Services : Endpoint URI's 

Solace : 2 types of templates ==> Endpoint Templates :

a. Queue templates/Queue endpoints
b. Topic Endpoints

Endpoint links : https://docs.solace.com/Messaging/Guaranteed-Msg/Endpoint-Templates.htm

https://docs.solace.com/Messaging/Guaranteed-Msg/Configuring-Endpoint-Templates.htm

Queue Name Filter

Zomato :: Get a list of all the users who belongs to a pincode : 400100 || 400<followed by 3 digits> || begins with 4? 

Topics : try-me, hello1, hello2

<business> : zomato
<application/service> : customers
<what is the search crtiteria> : zip code
What is the value of the Zip code : <Specific> OR <Pattern>

Pattern :: In computer science, how to define a pattern in Programming Language? :: Pattern matching :: Regex OR Regular Expression 

Name begins with A and ends with O 

Zip code : Begins with 4 <4 digits in the middle - any combination> 0

https://www.w3schools.com/java/java_regex.asp

In case of Solace :: Queue name filters OR Topic filters can be all created using Regex :: Wildcards : * and >

<business> : zomato
<application/service> : customers
<what is the search crtiteria> : zip code
What is the value of the Zip code : <Specific> OR <Pattern>

Queue name structure : 

1. zomato/customer/zipcode/* :: Will search for all the customers in ALL the zip code

2. zomato/customer/zipcode/400100 :: Will search for all the customers in 400100 zip code

3. zomato/customer/zipcode/400/* :: Will search for all the customers in the zip code that starts with 400<any 3 combination> 

<business> : zomato
<application/service> : orders
<what is the search crtiteria> : city = Mumbai
What is the sub-search criteria :: Pizza 
Customers who ordered pizza below <sub criteria for the search> ::  Rs.200

Queue filter structure : 

zomato/orders/cityname=Mum/category-of-food=Pizza/ <less than 200>


Queue template :: There is NO owner :: Queue template can be used by NON-owners or ALL

Can we create a Queue-template using CLI ? :: YES

==>  Create a queue template ::

Queues/queue templates :: Utilize the storage :: Developer class :: message-spool --> message-vpn

Steps and commands to work with Solace CLI to create and configure queue-template


enable
configure


message-spool message-spool --> message-vpn

message-spool message-vpn message-vpn-01

(configure/message-spool)

==> create queue template <qt name> 


create queue-template qtcli01

(configure/message-spool/queue-template)#

==> Show the queue template list :

show queue-template *

==> Show the details of a queue-template :

show queue-template <queue-temp name>  detail

show queue-template qtcli01 detail

==> Set a name filter for the queue-template

(configure/message-spool/queue-template)# name-filter <name>

name-filter zomato/customers/pin/*

==> Modify the message queue size :

(configure/message-spool/queue-template)# max-spool-usage 70


developer-production-bc64t4s47ll-solace-primary-0(configure/message-spool/queue-template)# permission all consume
developer-production-bc64t4s47ll-solace-primary-0(configure/message-spool/queue-template)# permission all modify-topic


Queue Template :: Durability Override 

By default :: Whenever a client creates a queue template :: By default :: Durable nature

Modify the state of this durability of the queue :

(configure/message-spool/queue-template)# durability-overview [none | Non-Durable] 

==> change the durable status of the queue-template : durability-override [none | non-durable]

At the time of creating a queue template, if the durability status is : Non-Durable, it will remain Non-Durable

==> Modify the access type :

solace-primary-0(configure/message-spool/queue-template)# access-type [exclusive | non-exclusive]
solace-primary-0(configure/message-spool/queue-template)# access-type non-exclusive

==> How to enable/disable OR allow/disallow Consumer Acknowledgement Propagation [ACK]

Disable the consumer-ack 

(configure/message-spool/queue-template)# no consumer-ack-propagation

show queue-template qtcli01 detail

==> Enable consumer ack

(configure/message-spool/queue-template)# consumer-ack-propagation

Solace : Templates : Query name filter --> Wilcards [Regex] --> * & >

1. animals/domestic/* : Will capture everything at the level of /* BUT not the level of /*/

Capture : 

a. animals/domestic/cats
b. animals/domestic/dogs
c. animals/domestic/rabbit

NOT Capture :

a. animals/domestic/dogs/beagles
b. animals/domestic/cat/cat-type1

2. animals/domestic/> : Will NOT match the level below /> || match other levels beyond />

Capture :

a. animals/domestic/cats
b. animals/domestic/dogs
c. animals/domestic/dogs/beagles

NOT Capture :

a. animals/domestic

zomato/customers/pin/* ~ zomato/customers/pin/<400100 or pattern> BUT what not match : zomato/customers/pin/Mumbai/400200 [not allowed with *]

https://solace.com/blog/topic-hierarchy-best-practices/

Domain/Object-type/Verb/Version/ - Taxonomy : Hierarchial Structure

Weekly Assignment :: Coverage till Friday : 1pm 

Weekly assessment :: Solace CLI + Solace PubSub+ WebGUI [No NodeJS]











